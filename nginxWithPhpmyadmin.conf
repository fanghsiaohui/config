server {
	listen 80 default_server;
	root /var/www/html/site1;
	autoindex on;
	charset utf-8;
	index index.php index.html ;

	location / {
	}

	location /tmp {
		root /home/fang ;
	}

	location ~ ^/tmp/.+\.php$ {
        root /home/fang ;
		fastcgi_pass unix:/run/php/php7.4-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		include snippets/fastcgi-php.conf;
        include fastcgi_params ;
	}

	location /phpmyadmin {
        root /usr/share;
	}

    location ~ ^/phpmyadmin/(.+\.php)$ {
        root /usr/share;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		fastcgi_pass unix:/run/php/php7.4-fpm.sock;
		include snippets/fastcgi-php.conf;
        include fastcgi_params ;
    }

	location ~ \.php$ {
		include snippets/fastcgi-php.conf;
		fastcgi_pass unix:/run/php/php7.4-fpm.sock;
	}

}
